# Vercel éƒ¨ç½²è¯´æ˜

## ğŸ“¦ éƒ¨ç½²å‡†å¤‡

æ‚¨çš„é¡¹ç›®ç°åœ¨å·²ç»é…ç½®å¥½äº†Verceléƒ¨ç½²ï¼ŒåŒ…å«ä»¥ä¸‹å…³é”®æ–‡ä»¶ï¼š

- `vercel.json` - Vercelé…ç½®æ–‡ä»¶
- `api/index.py` - æ— æœåŠ¡å™¨å‡½æ•°ç‰ˆæœ¬çš„Flask API
- `api/requirements.txt` - Pythonä¾èµ–
- `.vercelignore` - å¿½ç•¥ä¸éœ€è¦çš„æ–‡ä»¶

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. å®‰è£…Vercel CLIï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
```bash
npm install -g vercel
```

### 2. ç™»å½•Vercel
```bash
vercel login
```

### 3. åœ¨é¡¹ç›®ç›®å½•ä¸­éƒ¨ç½²
```bash
cd /Users/sco/Desktop/Daily-ArXiv
vercel
```

ç¬¬ä¸€æ¬¡éƒ¨ç½²æ—¶ä¼šè¯¢é—®ä¸€äº›é—®é¢˜ï¼š
- Set up and deploy "~/Desktop/Daily-ArXiv"? **Y**
- Which scope do you want to deploy to? **é€‰æ‹©æ‚¨çš„è´¦æˆ·**
- Link to existing project? **N**
- What's your project's name? **daily-arxiv** (æˆ–æ‚¨å–œæ¬¢çš„åå­—)
- In which directory is your code located? **./** 

### 4. åç»­éƒ¨ç½²
```bash
vercel --prod
```

### 5. å¦‚æœé‡åˆ°404é”™è¯¯
å¦‚æœå‡ºç°404é”™è¯¯ï¼Œè¯´æ˜é…ç½®æœ‰é—®é¢˜ï¼Œé‡æ–°éƒ¨ç½²ï¼š
```bash
vercel --prod --force
```

## ğŸ”§ é…ç½®è¯´æ˜

### APIè·¯ç”±é…ç½®
- `/api/articles/recent` - è·å–æœ€è¿‘è®ºæ–‡
- `/api/articles/<id>` - è·å–è®ºæ–‡è¯¦æƒ…  
- `/api/articles/search` - æœç´¢è®ºæ–‡
- `/api/stats` - è·å–ç»Ÿè®¡ä¿¡æ¯

### è‡ªåŠ¨ç¯å¢ƒæ£€æµ‹
å‰ç«¯ä¼šè‡ªåŠ¨æ£€æµ‹è¿è¡Œç¯å¢ƒï¼š
- **æœ¬åœ°å¼€å‘**: ä½¿ç”¨ `http://localhost:5001/api`
- **Verceléƒ¨ç½²**: ä½¿ç”¨ `/api` (ç›¸å¯¹è·¯å¾„)

## ğŸ“ é¡¹ç›®ç»“æ„
```
Daily-ArXiv/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ index.py          # Vercelæ— æœåŠ¡å™¨å‡½æ•°
â”‚   â””â”€â”€ requirements.txt  # Pythonä¾èµ–
â”œâ”€â”€ vercel.json          # Vercelé…ç½®
â”œâ”€â”€ index.html           # å‰ç«¯é¡µé¢
â”œâ”€â”€ style.css            # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ script.js            # åŸæœ‰åŠŸèƒ½JS
â”œâ”€â”€ database.js          # æ•°æ®åº“ç›¸å…³JS
â””â”€â”€ .vercelignore        # å¿½ç•¥æ–‡ä»¶é…ç½®
```

## ğŸ”’ ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

å¦‚æœæƒ³å°†æ•°æ®åº“è¿æ¥ä¿¡æ¯ä½œä¸ºç¯å¢ƒå˜é‡ï¼Œå¯ä»¥åœ¨Vercelæ§åˆ¶å°æ·»åŠ ï¼š

1. è®¿é—® Vercel Dashboard
2. é€‰æ‹©æ‚¨çš„é¡¹ç›®
3. è¿›å…¥ Settings â†’ Environment Variables
4. æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š
   - `DB_HOST`: `dbprovider.ap-southeast-1.clawcloudrun.com`
   - `DB_PORT`: `49674`
   - `DB_NAME`: `postgres`
   - `DB_USER`: `postgres`
   - `DB_PASSWORD`: `sbdx497p`

ç„¶åä¿®æ”¹ `api/index.py` ä¸­çš„è¿æ¥ä»£ç ï¼š
```python
conn = psycopg2.connect(
    host=os.environ.get('DB_HOST', 'dbprovider.ap-southeast-1.clawcloudrun.com'),
    port=int(os.environ.get('DB_PORT', 49674)),
    database=os.environ.get('DB_NAME', 'postgres'),
    user=os.environ.get('DB_USER', 'postgres'),
    password=os.environ.get('DB_PASSWORD', 'sbdx497p'),
    sslmode="prefer"
)
```

## ğŸ§ª æœ¬åœ°æµ‹è¯•

åœ¨éƒ¨ç½²å‰ï¼Œå¯ä»¥æœ¬åœ°æµ‹è¯•Vercelå‡½æ•°ï¼š
```bash
vercel dev
```

è¿™ä¼šå¯åŠ¨æœ¬åœ°Vercelå¼€å‘æœåŠ¡å™¨ï¼Œæ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒã€‚

## ğŸ“ˆ éƒ¨ç½²åè®¿é—®

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨ä¼šå¾—åˆ°ä¸€ä¸ªURLï¼Œä¾‹å¦‚ï¼š
- `https://daily-arxiv-xxx.vercel.app`

æ‰€æœ‰åŠŸèƒ½éƒ½ä¼šæ­£å¸¸å·¥ä½œï¼š
- é¦–é¡µæ˜¾ç¤ºæœ€è¿‘ä¸€å‘¨çš„è®ºæ–‡
- å¯ä»¥æœç´¢è®ºæ–‡
- ç‚¹å‡»è®ºæ–‡æŸ¥çœ‹è¯¦æƒ…
- ä¸‹è½½åŠŸèƒ½æ­£å¸¸

## âš¡ ä¼˜åŠ¿

1. **æ— æœåŠ¡å™¨**: è‡ªåŠ¨æ‰©ç¼©å®¹ï¼ŒæŒ‰éœ€ä»˜è´¹
2. **å…¨çƒCDN**: å¿«é€Ÿè®¿é—®
3. **HTTPS**: è‡ªåŠ¨SSLè¯ä¹¦
4. **Gité›†æˆ**: æ¨é€ä»£ç è‡ªåŠ¨éƒ¨ç½²
5. **å…è´¹é¢åº¦**: ä¸ªäººé¡¹ç›®å…è´¹ä½¿ç”¨

## ğŸ”§ æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **APIä¸å·¥ä½œ**: æ£€æŸ¥ `vercel.json` é…ç½®
2. **æ•°æ®åº“è¿æ¥å¤±è´¥**: ç¡®è®¤æ•°æ®åº“ä¿¡æ¯æ­£ç¡®
3. **CORSé”™è¯¯**: ç¡®è®¤ `flask-cors` æ­£ç¡®é…ç½®
4. **ä¾èµ–é—®é¢˜**: æ£€æŸ¥ `api/requirements.txt`

æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
vercel logs <deployment-url>
```

## ğŸ“ æ”¯æŒ

éƒ¨ç½²è¿‡ç¨‹ä¸­å¦‚æœ‰é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹Vercelå®˜æ–¹æ–‡æ¡£
2. æ£€æŸ¥é¡¹ç›®æ§åˆ¶å°çš„éƒ¨ç½²æ—¥å¿—
3. ç¡®è®¤æ•°æ®åº“è¿æ¥çŠ¶æ€ 